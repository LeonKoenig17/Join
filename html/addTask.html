<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Join</title>
    <link rel="stylesheet" href="../styles/standard.css" />
    <link rel="stylesheet" href="../style.css" />

   <link rel="stylesheet" href="../styles/addTask/addTask.css" />
    <link rel="stylesheet" href="../styles/addTask/addSubtask.css" />
    <link rel="stylesheet" href="../styles/addTask/dropdownAddTask.css" />
    <link rel="stylesheet" href="../styles/fonts.css" />
    <!-- <script src="../scripts/containerDebugger.js"></script> -->
  </head>
  <body onload="init()">
    <aside>
      <div id="logo">
        <img src="../images/joinlogowhite.svg" alt="" />
      </div>
      <nav>
        <a href="./summary.html">
          <img src="../images/summarygray.svg" alt="logo" />
          <span>Summary</span>
        </a>
        <a href="./addTask.html" class="active">
          <img src="../images/addtaskwhite.svg" alt="logo" />
          <span>Add Task</span>
        </a>
        <a href="./board.html">
          <img src="../images/boardgray.svg" alt="logo" />
          <span>Board</span>
        </a>
        <a href="./contacts.html">
          <img src="../images/contactsgray.svg" alt="logo">
          <span>Contacts</span>
        </a>
      </nav>
      <div id="legal">
        <a href="">Privacy Policy</a>
        <a href="">Legal Notice</a>
      </div>
    </aside>
    <main>
      <header>
        <span>Kanban Project Management Tool</span>
        <div>
          <a href=""><img src="../images/help20x20.svg" alt="help" /></a>
          <a href="" id="userLink">LK</a>
        </div>
      </header>
      <div id="main">
        <div>
          <div id="message"></div>
          <h1>Add Task</h1>
          <section id="addTask">
            <div class="half-width addTask-left">
              <form class="forms">
                <label for="title">Title<span>*</span></label>
                <input
                  type="text"
                  id="title"
                  name="title"
                  placeholder="Enter a title"
                  required
                />
                <span class="error-message" id="title-error"></span>
                <label for="description">Description</label>
                <textarea
                  id="description"
                  name="description"
                  placeholder="Enter a Description"
                  style="resize: none"
                  spellcheck="false"
                ></textarea>
                <span class="error-message" id="description-error"></span>
                <label for="due-date">Due date<span>*</span></label>
                <div class="custom-date-input">
                  <input type="date" id="due-date" name="due-date" required />
                  <img src="../images/calendar.svg" alt="Calendar Icon" />
                </div>
                <span class="error-message" id="due-date-error"></span>
              </form>
            </div>
            <div class="separator"></div>
            <div class="half-width addTask-right">
              <h3 class="h3-priority">Priority</h3>
              <div class="priority-buttons">
                <button type="button" class="priority priority-urgent" onclick="setPriority(this)">
                  Urgent
                  <img src="../images/urgent.svg" alt="Urgent" />
                </button>
                <button type="button" class="priority priority-medium active-btn" onclick="setPriority(this)">
                  Medium
                  <img src="../images/medium.svg" alt="Medium" />
                </button>
                <button type="button" class="priority priority-low" onclick="setPriority(this)">
                  Low
                  <img src="../images/low.svg" alt="Low" />
                </button>
              </div>
              <div>
                <h3>Assigned to</h3>
                <div class="custom-assigned-dropdown" id="assignedDropdown">
                  <div class="dropdown-selected" id="assignedDropdownSelected">
                    Select contacts to assign
                    <img
                      src="../images/arrow_drop_down.svg"
                      alt="Dropdown Icon"
                      class="select-icon"
                    />
                  </div>
                  <span class="error-message" id="assigned-error"></span>

                  <div
                    class="dropdown-options"
                    id="assignedDropdownOptions"
                  ></div>
                </div>
              </div>
              <div class="assigned-chips" id="assignedChips"></div>
              <div>
                <h3>Category<span>*</span></h3>
                <div class="custom-select-container">
                  <select id="categorySelect">
                    <option disabled selected >Select a category</option>
                    <option class="option">Technical Task</option>
                    <option class="option">User Story</option>
                  </select>
                  <img
                    src="../images/arrow_drop_down.svg"
                    alt=""
                    class="select-icon category-icon"
                  />
                </div>
                <span class="error-message" id="category-error"></span>
              </div>
              <div>
                <h3>Subtasks</h3>
                <div class="subtask-input">
                  <input
                    type="text"
                    id="subtask-input"
                    placeholder="Add new subtask"
                    onclick="activateSubtaskInput()"
                    autocomplete="off"
                  />
                  <div class="subTask-icons">
                    <img
                      onclick="confirmSubtaskEntry()"
                      id="check-subtask-icon"
                      src="../images/checkDark.svg"
                      alt="Confirm"
                      class="subtask-icon-check d-none select-icon"
                    />
                    <img
                      id="close-subtask-icon"
                      src="../images/close.svg"
                      alt="Cancel"
                      class="subtask-icon d-none select-icon"
                    />
                  </div>
                  <div class="seperator d-none" id="seperator"></div>

                  <img
                    id="add-icon"
                    src="../images/addDark.svg"
                    alt="subtask-icon"
                    class="select-icon"
                  />
                </div>
                <div id="subtask-list"></div>
              </div>
            </div>
          </section>
        </div>
        <div class="create-task-footer">
          <p><span>*</span>This field is required</p>
          <div class="form-actions">
            <div class="clear-btn-container">
              <button type="button" class="clear-button" onclick="clearForm()">
                Clear
                <img src="../images/canceldarkblue.svg" alt="Cancel icon" />
              </button>
            </div>
            <div class="create-btn-container">
              <button
                id="create-task-btn"
                onclick="createTask()"
                type="button"
                class="create-button"
              >
                Create Task
                <img src="../images/check.svg" alt="create icon" />
              </button>
            </div>
          </div>
        </div>
      </div>

    </main>
    <script src="../scripts/templates.js"></script>
    <script src="../scripts/firebase.js"></script>
    <script src="../scripts/addTask/addTask.js"></script>
    <script src="../scripts/addTask/addSubtask.js"></script>
    <script src="../scripts/addTask/addTaskDropDown.js"></script>
  </body>
</html>
